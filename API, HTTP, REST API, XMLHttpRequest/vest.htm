<!-- 
get_ajax_example
===============
Status: OK
Description: sends HTTP GET via AJAX XMLHttpRequest and renders the result in div.
01.11.2018

 -->

<html lang="en" class=""><head>

    <style class="cp-pen-styles">body {
      font-family: Helvetica;
      text-align: center;
    }
    
    #birthday-greeting {
      font-size: 72px;
      color: red;
      text-transform: uppercase;
    }
    </style></head><body>
    
        <h1>test</h1>
        <button id="reveal" onclick="sendTheAJAX()" class="button">Why's that?</button>
        <div id="ajax-content">
            test
        </div>
    
    <script>// 1. create a new XMLHttpRequest object -- an object like any other!
    var myRequest = new XMLHttpRequest();
    // 2. open the request and pass the HTTP method name and the resource as parameters
    myRequest.open('GET', 'http://ec2-54-162-4-53.compute-1.amazonaws.com:8080/vest/v1/stats?code=gc&rangeStart=2015-01-01&rangeEnd=2018-10-30&periodStart=2017-01-01&periodEnd=2018-03-01');
    // 3. write a function that runs anytime the state of the AJAX request changes
    myRequest.onreadystatechange = function () {
        // 4. check if the request has a readyState of 4, which indicates the server has responded (complete)
        if (myRequest.readyState === 4) {
            // document.getElementById('ajax-content').innerHTML = "test3"
            // 5. insert the text sent by the server into the HTML of the 'ajax-content'
            document.getElementById('ajax-content').innerHTML = myRequest.responseText;
        }
    };
    
    function sendTheAJAX() {
        myRequest.send();
        document.getElementById('reveal').style.display = 'none';
    }
    //# sourceURL=pen.js
    </script>
    </body></html>